<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>&lt;undefined&gt;</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>0</depth>
  <persistent>-1</persistent>
  <parentName>&lt;undefined&gt;</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>IsPressed=false
IsReturn=false
MissionSelected=0
Worldselect=0
selectanimation=0
Transitioner=0
ExitButtonAni=0
enum MissionWorldID{
    TutorialWorld=1,
    SecondWorld,
    Third,
    Fourth,
    Fifth,
    Raids,
    MAX,
}

global.MissionSelectionID[MissionWorldID.TutorialWorld,0]=MissionID.Tutorial1
global.MissionSelectionID[MissionWorldID.TutorialWorld,1]=MissionID.Tutorial2
global.MissionSelectionID[MissionWorldID.Raids,0]=MissionID.VaultOfGlass

global.MissionWorldName[MissionWorldID.TutorialWorld]="Tutorial"
global.MissionWorldName[MissionWorldID.SecondWorld]=""
global.MissionWorldName[MissionWorldID.Third]=""
global.MissionWorldName[MissionWorldID.Fourth]=""
global.MissionWorldName[MissionWorldID.Fifth]=""
global.MissionWorldName[MissionWorldID.Raids]="Raids"


//Reading Save File
var _dir=global.CampaignSavesDir
var buffer=buffer_load(_dir)
var _string=buffer_read(buffer,buffer_string)
buffer_delete(buffer)
UnlockedMissions=json_decode(_string)
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="1" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>//ds_map_destroy(UnlockedMissions)
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="7" enumb="4">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if IsPressed{
    if !IsReturn{
    script_execute(global.MissionDat_Script[MissionSelected])
    }
    instance_destroy()
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="8" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>var msx=device_mouse_x_to_gui(0)
var msy=device_mouse_y_to_gui(0)
var _totalsel=MissionWorldID.MAX-1
//Left Rectangle
//Draw background
var _x=245*1.5
var _y=50*1.5
var _w=644*1.5
var _h=619*1.5
var _lbw=159*1.5
var _outlinewid=2
draw_set_color(c_black);draw_set_alpha(0.25);
draw_rectangle(_x,_y,_x+_w,_y+_h,false)
draw_rectangle(_x-_lbw,_y,_x+_w,_y+_h,false)

draw_set_color(c_white);draw_set_alpha(1)
draw_line_width(_x,_y,_x+_w,_y,_outlinewid)
draw_line_width(_x+_w,_y,_x+_w,_y+_h,_outlinewid)
draw_line_width(_x+_w,_y+_h,_x,_y+_h,_outlinewid)

//draw_selection
var _bh=_h/_totalsel
var _by=_y+Worldselect*_bh
var _clbw=_lbw*selectanimation
draw_set_color(c_black);draw_set_alpha(0.25);
draw_rectangle(_x-_clbw,_by,_x-1,_by+_bh,false)
draw_set_color(c_white);draw_set_alpha(1)
draw_line_width(_x-_clbw,_by,_x,_by,_outlinewid)
draw_line_width(_x-_clbw,_by+_bh,_x,_by+_bh,_outlinewid)
draw_line_width(_x-_clbw,_by,_x-_clbw,_by+_bh,_outlinewid)
draw_line_width(_x,_y,_x,_by,_outlinewid)
draw_line_width(_x,_by+_bh,_x,_y+_h,_outlinewid)


selectanimation=lerp(selectanimation,1,0.07)
for(i=0;i&lt;_totalsel;i++){
    if mouse_check_button_pressed(mb_left){
        if point_in_rectangle(msx,msy,_x-_lbw,_y+i*_bh,_x,_y+i*_bh+_bh){
            Worldselect=i
            selectanimation=0
        }
    }
}
draw_set_valign(fa_center)
draw_set_halign(fa_middle)
draw_set_alpha(1)
for(i=0;i&lt;_totalsel;i++){
    draw_text(_x-_lbw/2,_y+i*_bh+_bh/2,global.MissionWorldName[i+1])
}
draw_set_valign(fa_top)
draw_set_halign(fa_top)

//draw levels available
if Worldselect!=-1{
draw_set_color(c_white);draw_set_alpha(1);
draw_set_font(ft_Ebrima_Standard)

var _off=30
var _sep=50
    for(i=0;i&lt;array_length_2d(global.MissionSelectionID,Worldselect+1);i++){
        var _id=global.MissionSelectionID[Worldselect+1,i]
        var _n=global.MissionDat_Name[_id]
        var _s=global.MissionDat_Script[_id]
        var _sx=_x+_off
        var _sy=_y+_off+i*_sep
        var _sw=_w-_off*2
        var _sh=_sep
        var _avail=false
        if UnlockedMissions[? string(_id)]=true{_avail=true}
        if _avail &amp;&amp; point_in_rectangle(msx,msy,_sx,_sy,_sx+_sw,_sy+_sh){
            draw_set_color($c07000)
            draw_set_alpha(0.5*selectanimation)
            draw_rectangle(_sx,_sy,_sx+_sw,_sy+_sh,false)
            draw_set_color(c_white)
            if mouse_check_button_pressed(mb_left) &amp;&amp; !IsPressed{
                IsPressed=true
                MissionSelected=_id
                Transitioner=instance_create(0,0,obj_room_transition)
            }
        }
        if _avail{
            draw_set_alpha(selectanimation)
        }else{
            draw_set_alpha(selectanimation*0.5)
        }
        draw_text(_sx,_sy,_n)
    }
}
if IsPressed &amp;&amp; Transitioner.MovedRoom{
    if IsReturn{
    room_goto(rm_menu)
    }else{
    room_goto(rm_online)
    }
}


//draw right rectangle
var _eh=100
var _sp=10
var _x=921*1.5
var _y=50*1.5
var _w=284*1.5
var _h=619*1.5-_eh-_sp
draw_set_color(c_black)
draw_set_alpha(0.5)
draw_rectangle(_x,_y,_x+_w,_y+_h,false)

draw_rectangle(_x,_y+_h+_sp,_x+_w,_y+_h+_sp+_eh,false)
draw_set_alpha(1)
draw_set_color($0000AC)
if ExitButtonAni&gt;0.01{
draw_rectangle(
    _x,
    _y+_h+_sp+_eh-_eh*ExitButtonAni,
    _x+_w,
    _y+_h+_sp+_eh,
false)
}
draw_set_valign(fa_center)
draw_set_halign(fa_middle)
draw_set_color(c_white)
draw_text(_x+_w/2,_y+_h+_sp+_eh/2,"Exit")
draw_set_valign(fa_top)
draw_set_halign(fa_top)

if point_in_rectangle(msx,msy,_x,_y+_h+_sp,_x+_w,_y+_h+_sp+_eh){
    if mouse_check_button_pressed(mb_left) &amp;&amp; !IsPressed{
        IsPressed=true
        IsReturn=true
        Transitioner=instance_create(0,0,obj_room_transition)
    }
    ExitButtonAni=lerp(ExitButtonAni,1,0.2)
}else{
    ExitButtonAni=lerp(ExitButtonAni,0,0.2)
}



draw_set_alpha(1)




</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints/>
</object>
